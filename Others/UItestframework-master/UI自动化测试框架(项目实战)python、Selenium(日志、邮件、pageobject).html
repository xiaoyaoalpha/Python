<!DOCTYPE html>
<!-- saved from url=(0036)https://www.bbsmax.com/A/D854emgvdE/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)</title>
<link href="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/prettify.css" type="text/css" rel="stylesheet">
<!-- <meta name="referrer" content="never">
h -->
<style>
 .menu li { float: left; }
</style>
<link rel="stylesheet" type="text/css" href="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/prettify(1).css">
<link rel="stylesheet" href="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/style.css">
<link rel="stylesheet" href="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/fontello.css">
<link rel="stylesheet" href="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/animation.css">
</head>
<body>
<div id="header" class="navbar navbar-default navbar-fixed-top header-01">
	<div class="container">
		<h1 class="logo">
			<a href="https://www.bbsmax.com/" title="bbsmax">
							<img src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/logo.png" alt="bbsmax">
			</a>
		</h1>
				<div role="navigation" class="site-nav  primary-menu">
			<div class="menu-fix-box">
				 <ul id="menu-navigation" class="menu">
<li>首页</li>
<li>Python</li>
<li>Java</li>
<li>PHP</li>
<li>IOS</li>
<li>Andorid</li>
<li>NodeJS</li>
<li>JavaScript</li>
<li>HTML5</li>
</ul>					 			</div>
		</div>
				<!--<div class="right-nav">
				<button class="js-toggle-search"><i class="icon-search"></i></button>
		</div>-->
       
			</div>	
</div>


<div id="page-content">
	<div class="container">
		<div class="row">
			
			<div class="blog-post">
								<!--<div class="posts-top-cjtz clearfix"></div>-->
								<div class="post">
										<div class="post-title">
						<!--<div class="post-entry-categories"><a href="/tag/abc" rel="tag">tag</a><a href="/tag/abc" rel="tag">tag2</a></div>-->
						<h1 class="title">UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)</h1>
						<div class="post_icon"> 
															<span class="icon-user-o"> 小石头tester</span>															
															<span class="icon-clock-1"> 2016-11-08 </span>
															<span class="icon-article-1"> <a href="https://www.bbsmax.com/link/RDg1NGVtZ3ZkRQ==" target="_blank" rel="noindex,nofollow,oarchive">原文</a> </span>
					</div>
										<div class="post-content">
						<script src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/ca-pub-6527383233809815.js.下载"></script><script async="" src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/adsbygoogle.js.下载"></script>
<ins class="adsbygoogle" style="display: block; text-align: center; height: 200px;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-6527383233809815" data-ad-slot="7460572068" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:1120px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:1120px;background-color:transparent;"><iframe width="1120" height="200" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;width:1120px;height:200px;" src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
					
		<p>其实百度UI自动化测试框架，会出来很多相关的信息，不过就没有找到纯项目的，无法拿来使用的；所以我最近就写了一个简单，不过可以拿来在真正项目中可以使用的测试框架。</p>
<p>项目的地址：<a href="https://github.com/xiaoshitoutester/UItestframework" rel="external nofollow noreferrer">https://github.com/xiaoshitoutester/UItestframework</a></p>
<p>这里完全是干货，中间涉及到很多知识点，可以下载到本地然后，修改下项目地址，编写测试用例就可以执行了，日志，报告什么的都有：</p>
<p>这里日志打印是我新加的，在自动化测试中，经常出现各种奇怪的问题，导致不好定位问题，现在我将webdriver的各种操作都加了日志，对于我ui测试问题定位很有帮助，下面的是报告中、log文件中日志记录截图：</p>
<p><img src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/L3Byb3h5L2h0dHAvaW1hZ2VzMjAxNS5jbmJsb2dzLmNvbS9ibG9nLzgzNzY1Ny8yMDE2MTEvODM3NjU3LTIwMTYxMTA4MjAxNzE0MzI3LTQ5MzE5MTU4OS5wbmc=.jpg"></p>
<p><img src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/L3Byb3h5L2h0dHAvaW1hZ2VzMjAxNS5jbmJsb2dzLmNvbS9ibG9nLzgzNzY1Ny8yMDE2MTEvODM3NjU3LTIwMTYxMTA4MjAxNzMxNTE0LTM0MDI0ODAwMS5wbmc=.jpg"></p>
<p>接下来就是关于这个项目的介绍：</p>
<p>UItestframework项目目前具有以下功能：<br>1、对webdriver进行了第二次的简单封装，使用更加方便 public/common/pyselenium.py<br>(ps：这个是在虫师的pyse基础加了打印日志功能,参考：https://github.com/defnngj/pyse)<br>2、可以对excel表进行数据读取，完成数据驱动:public/common/datainfo.py<br>3、具有打印日志的功能，打印在控制台和文件中：public/common/log.py,日志保存在report/log/目录下<br>4、读取配置文件(.ini文件):public/common/readconfig.py<br>5、具有发邮件的功能:public/common/sendmail.py<br>6、生成测试报告：html测试报告的路径：report/testreport/目录下<br>7、使用了PageObject模式来编写测试脚本</p>
<p>整个项目的目录结构:<br>├─config 配置文件的目录<br>│  │  config.ini   存放配置文件<br>│  │  globalparam.py  重要的全局参数，如log、report的路径配置等<br>│  │  __init__.py<br>│  │<br>│<br>├─data   测试数据<br>│  ├─formaldata # 正式环境测试数据<br>│  └─testdata  # 测试环境的数据<br>│          searKey.xlsx<br>│<br>├─public  公共的文件库<br>│  │  __init__.py<br>│  │<br>│  ├─common  封装的公共方法<br>│  │  │  basepage.py<br>│  │  │  datainfo.py<br>│  │  │  log.py<br>│  │  │  mytest.py<br>│  │  │  publicfunction.py<br>│  │  │  pyselenium.py<br>│  │  │  pyselenium20161107.py<br>│  │  │  readconfig.py<br>│  │  │  sendmail.py<br>│  │  │  __init__.py<br>│  │  │<br>│  │<br>│  ├─pages 使用pageobject模式编写测试脚本，存放page的目录<br>│  │  │  baiduIndexPage.py<br>│  │  │  __init__.py<br>│<br>├─report 测试报告<br>│  ├─image 截图目录<br>│  ├─log 日志目录<br>│  │      2016-11-07.log<br>│  │<br>│  └─testreport  html测试报告目录<br>│          TestResult2016-11-07_16_15_51.html<br>│<br>└─testcase 存放测试用例<br>    │  test_baidu.py</p>
<p>使用说明:<br>安装响应的库: pip install xlrd,selenium,configparser<br>1、在config.ini中配置项目路径：project_path<br>2、测试数据放在data目录下面<br>3、使用pageobject，写page页面，在测试用例里面调用放在public/pages目录下<br>4、在testcase目录下面，编写测试用例，可以分模块编写，建相应的目录<br>5、执行run.py,就可以执行所有的测试用例<br>6、在report/log里面查看日志<br>7、在report/testreport里面查看html测试报告</p>
<p>关于pyselenium的使用:<br>该py文件是根据虫师的pyse改的，加了一个日志，根据自己的需要加了几个函数<br>可以参考虫师的pyse,github地址:https://github.com/defnngj/pyse<br>虫师的博客园地址：https://github.com/defnngj/pyse</p>
<p>导入PySlenium文件<br>import PySelenium<br>1、启动浏览器：<br>启动谷歌浏览器<br>dr = PySelenium.PySelenium('chrom')<br>启动远程浏览器比如使用grid施行分布式执行<br>dr = PySelenium.PySelenium(RChrome','127.0.0.1:8080')<br>2、在地址栏输入网址：<br>dr.open('http://www.baidu.com')<br>3、窗口最大化<br>dr.max_window()<br>4、设置浏览器的窗口的大小<br>dr.set_window(800,500)<br>5、不清除文本框的内容直接输入值(比如说：进行文件上传时，上传文件的路径，如果清除就会报错)：<br>dr.type('id-&gt;su','小石头tester')<br>6、先清除文本框的内容，然后再输入值（用得很多）：<br>dr.clear_type('name-&gt;su','虫师')<br>7、直接点击元素<br>dr.click('css-&gt;#kw')<br>8、右键点击元素：<br>dr.right_click('id-&gt;kw')<br>9、将鼠标移动到一个元素上<br>dr.move_to_element('clas-&gt;btn1.btn-green.btn-search')<br>10、双击元素<br>dr.double_click("id-&gt;kw")<br>11、将一个元素拖拽到另外一个元素上<br>dr.drag_and_drop('id-&gt;kw1','id-&gt;kw2')<br>12、根据连接的text来点击(&lt;a href="http://www.baidu.com"&gt;百度&lt;/a&gt;)<br>dr.click_text('百度')<br>13、关闭窗口，driver<br>dr.quit()<br>14、执行js脚本<br>dr.js('script')<br>15、获取元素的属性<br>dr.get_attribute("id-&gt;su","href")<br>16、获取元素的文本信息text<br>dr.get_text('id-&gt;su')<br>17、返回当前页面的title<br>dr.get_title()<br>18、返回当前页面的url<br>dr.get_url()<br>20、进入frame<br>dr.switch_to_frame('id-&gt;kw')<br>21、退出frame<br>dr.switch_to_frame_out()<br>22、判断元素是否存在<br>dr.element_exist('id-&gt;kw')<br>23、截图<br>dr.take_screenshot('file_path')<br>24、进入最新的table<br>dr.into_new_window()<br>25、输入内容并且回车<br>dr.type_and_enter('id-&gt;kw')<br>26、使用js来点击某个元素<br>dr.js_click('id-&gt;kw')<br>27、返回原生的webdriver，进行个性化需求<br>dr.origin_driver()</p>
<p>接到就到这里吧，其他功能以后会逐步添加，希望对项目的测试能带来更高的效率；也希望给各位看官带来帮助，也希望能得到大神指点，让框架更加完善，健壮。。。</p>					<script async="" src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/adsbygoogle.js.下载"></script>
<ins class="adsbygoogle" style="display: block; text-align: center; height: 200px;" data-ad-format="fluid" data-ad-layout="in-article" data-ad-client="ca-pub-6527383233809815" data-ad-slot="2451787962" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:1120px;background-color:transparent;"><ins id="aswift_1_anchor" style="display:block;border:none;height:200px;margin:0;padding:0;position:relative;visibility:visible;width:1120px;background-color:transparent;"><iframe width="1120" height="200" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;width:1120px;height:200px;" src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
					<h2><a href="https://www.bbsmax.com/R/D854emgvdE/">UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)的更多相关文章</a></h2>	
<ol>
								<li><a href="https://www.bbsmax.com/A/ke5j6b2a5r/">selenium项目总结（UI自动化测试平台搭建、测试报告生成、邮件转发）</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">最近博主完成了一个web端UI自动化平台测试环境搭建,包括常用的操作流程组合成方法,组织测试用例,利用框架及报告文件生成,最后通过邮件添加附件的格式发送. 首先UI自动化平台的核心是selenium+ ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/MWpdKXzVQ1/">避免重复造轮子的UI自动化测试框架开发</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">一懒起来就好久没更新文章了,其实懒也还是因为忙,今年上半年的加班赶上了去年一年的加班,加班不息啊,好了吐槽完就写写一直打算继续的自动化开发 目前各种UI测试框架层出不穷,但是万变不离其宗,驱动PC浏览 ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/gGdX2waYJ4/">【转】Web UI自动化测试原理</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">目前市面上有很多Web UI自动化测试框架,比如WatiN, Selinimu,WebDriver,还有VS2010中的Coded UI等等.&nbsp; 这些框架都可以操作Web中的控件,模拟用户输入,点击等 ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/l1dyxAKq5e/">Google推出iOS功能性UI测试框架EarlGrey</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">经过了一段时间的酝酿后,Google很高兴地宣布了EarlGrey,一款针对于iOS的功能性UI测试框架.诸如YouTube.Google Calendar.Google Photos.Google  ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/QV5Zjyby5y/">使用jenkins + python + selenium一步步搭建web自动化测试“框架”（1） - 各部件简介</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">原先搭建过一个自动化测试框架,迷迷糊糊不求甚解,算是搭建了一个仅限于能用的.根本算不上框架的玩意儿. 现在回过头来好好看看究竟每一步是怎么联系起来的,是怎么运行起来的. 本次博客先说说各部件都是干什么 ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/A7zgYyxN54/">Selenium Web 自动化 - 项目实战（三）</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">Selenium Web 自动化 - 项目实战(三) 2016-08-10 目录 1 关键字驱动概述2 框架更改总览3 框架更改详解&nbsp; 3.1 解析新增页面目录&nbsp; 3.2 解析新增测试用例目录&nbsp; 3. ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/Vx5MLQ7JNr/">给缺少Python项目实战经验的人</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">我们在学习过程中最容易犯的一个错误就是:看的多动手的少,特别是对于一些项目的开发学习就更少了! 没有一个完整的项目开发过程,是不会对整个开发流程以及理论知识有牢固的认知的,对于怎样将所学的理论知识应用 ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/6pdDrbZyJw/">基于selenium的pyse自动化测试框架</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">WebUI automation testing framework based on Selenium 介绍: pyse基于selenium(webdriver)进行了简单的二次封装,比seleni ...</p>
		</li>
						<li><a href="https://www.bbsmax.com/A/kvJ3mg4Qdg/">关于去哪儿网的UI自动化测试脚本（Python实现）</a>
		<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">UI自动化测试Qunar机票搜索场景访问Qunar机票首页http://flight.qunar.com,选择“单程”,输入出发.到达城市,选择today+7日后的日期,点“搜索”,跳转到机票单程搜索 ...</p>
		</li>
		</ol>
	

<h2>随机推荐</h2>	
<ol>
									<li><a href="https://www.bbsmax.com/A/A7zgjeVd4n/">使用packer制作vagrant centos box</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">使用packer制作vagrant box:centos 制作vagrant box,网上有教程,可以自己step by step的操作.不过直接使用虚拟在VirtualBox中制作vagrant b ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/x9J2mqRWz6/">silverlight如何通过单独部署的WCF站点访问sharepoint2013的图片库</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">最近有项目silverlight通过单独部署的WCF站点访问sharepoint2013的图片库,需要做个笑脸墙效果如下: 结果开发完毕后无法在SP站点显示出来.使用VS自带的WCF工具进行测试.如下 ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/qVdeXnjr5P/">TinyFrame升级之七：重构Repository和Unit Of Work</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">首先,重构的想法来源于以下文章:Correct use of Repository and Unit Of Work patterns in ASP.NET MVC,因为我发现在我的框架中,对Unit ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/kPzO8OvQJx/">Python基础-字符串格式化_百分号方式_format方式</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">Python的字符串格式化有两种方式:&nbsp;百分号方式.format方式 百分号的方式相对来说比较老,而format方式则是比较先进的方式,企图替换古老的方式,目前两者并存.[PEP-3101] This ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/RnJW1Zyydq/">asp.net core csrf</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">如果用tag 比如 &lt;form asp-action="Login" asp-controller="Account" method="post ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/q4zVw402JK/">利用canvas实现抽奖转盘---转载别人的</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">功能需求 转盘要美观,转动效果流畅. 转盘上需要显示奖品图片,并且奖品是后台读取的照片和名字. 转动动画完成后要有相应提示. 获取的奖品具体算法在数据库里操作,前端只提供最后的效果展示. &nbsp; 知识要点 ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/kPzO80l7Jx/">wget cooikes 下载</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">2.下来用wget带cookie的命令下载,命令如下: wget -c –load-cookies=cookies.txt&nbsp;&nbsp;”下载地址” -O “文件名” &amp; &nbsp; &nbsp; &nbsp; [文件名处自己命名 ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/Vx5M0083JN/">转载：SQL Server 2008-建立分区表(Table Partition) 转载</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">数据库结构和索引的是否合理在很大程度上影响了数据库的性能,但是随着数据库信息负载的增大,对数据库的性能也发生了很大的影响.可能我们的数据库在一开始有着很高的性能,但是随着数据存储量的急速增长—例如订单 ...</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/Ae5R9yV8JQ/">javax.persistence.PersistenceException: No Persistence provider for EntityManager named ...</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">控制台下输出信息 原因:persistence.xml必须放在src下META-INF里面. 若误放在其他路径,就会迷路.</p>
			</li>
						<li><a href="https://www.bbsmax.com/A/KE5QxvrPJL/">eclipse快捷键使用</a>
			<p style="color: rgba(0, 0, 0, 0.32);margin-bottom: 8px;">Eclipse的编辑功能非常强大,掌握了Eclipse快捷键功能,能够大大提高开发效率.Eclipse中有如下一些和编辑相关的快捷键.1. [ALT+/]此快捷键为用户编辑的好帮手,能为用户提供内容的 ...</p>
			</li>
			</ol>			
							
					</div>

					
					<!--<div class="shareBox  clearfix">

					</div>-->
					<!--<div class="posts-cjtz content-cjtz clearfix"><img src="/images.grace/2865270162.png" alt="" /></div>	-->										<div class="next-prev-posts clearfix">
</div>
						 
				</div>
				
	<div class="clear"></div>

			</div>	</div>
</div>
</div>


<div class="clearfix"></div>
<div id="footer" class="two-s-footer">
	<div class="footer-box">
		<div class="container">
			<div class="row" style="padding-left: 15px;padding-right: 15px;">
			<div class="nav-footer">
				<a href="https://www.bbsmax.com/">Home</a>
				</div>
				<div class="copyright-footer">
					<p>Powered By WordPress</p>
				</div>
							</div>
		</div>
	</div>
</div>
<div style="display:none">
<script src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/z_stat.php" language="JavaScript"></script><script src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=2328196" target="_blank" title="站长统计">站长统计</a>
</div>


</div><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" style="display: none;" src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/saved_resource(2).html"></iframe><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" style="display: none;" src="./UI自动化测试框架(项目实战)python、Selenium(日志、邮件、pageobject)_files/saved_resource(3).html"></iframe></body></html>